<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ERP BB Forros | GestÃ£o Adminstrativa Profissional</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        :root { --primary: #8b0000; --dark: #1a0000; --bg: #f8f9fa; --white: #ffffff; }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--dark); height: 100vh; overflow: hidden; }

        /* TELA DE LOGIN (IGUAL Ã€ IMAGEM) */
        .overlay { position: fixed; inset: 0; background: var(--dark); display: flex; align-items: center; justify-content: center; z-index: 9999; }
        .login-box { background: var(--white); padding: 40px; border-radius: 15px; width: 400px; text-align: center; border-top: 8px solid var(--primary); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .login-box img { width: 220px; margin-bottom: 20px; }
        .login-box h2 { color: var(--primary); margin-bottom: 25px; font-weight: bold; }
        
        .btn-entrar { background: var(--primary); color: white; padding: 16px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; text-transform: uppercase; font-size: 16px; }

        /* ESTRUTURA APP */
        #app { display: none; flex-direction: column; height: 100vh; background: var(--bg); }
        .top-bar { height: 70px; background: var(--white); border-bottom: 2px solid #eee; display: flex; align-items: center; justify-content: space-between; padding: 0 25px; }
        .top-bar b { color: var(--primary); font-size: 20px; }

        .main-layout { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 260px; background: var(--dark); display: flex; flex-direction: column; justify-content: space-between; }
        .menu-links { padding: 25px 15px; }
        .menu-links button { width: 100%; padding: 16px; background: transparent; border: none; color: #fca5a5; text-align: left; cursor: pointer; border-radius: 10px; margin-bottom: 10px; font-weight: bold; display: flex; align-items: center; gap: 12px; }
        .menu-links button.active { background: var(--primary); color: white; }

        /* CONTEÃšDO */
        .content-area { flex: 1; padding: 35px; overflow-y: auto; }
        .card { background: white; padding: 30px; border-radius: 15px; border: 1px solid #eef; margin-bottom: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.02); }
        .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }
        .full { grid-column: 1 / -1; }
        
        label { display: block; font-size: 11px; font-weight: 800; color: var(--primary); margin-bottom: 8px; text-transform: uppercase; }
        input, select, textarea { padding: 14px; border: 1px solid #ddd; border-radius: 8px; width: 100%; outline: none; }

        /* TABELA DE PEDIDOS EMITIDOS */
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th { text-align: left; padding: 12px; border-bottom: 2px solid #eee; color: var(--primary); font-size: 12px; }
        td { padding: 12px; border-bottom: 1px solid #eee; font-size: 13px; }
        .btn-acao { border: none; padding: 6px 10px; border-radius: 4px; cursor: pointer; font-size: 11px; font-weight: bold; }
    </style>

    <script>
        function fazerLogin() {
            const u = document.getElementById('user').value;
            const p = document.getElementById('pass').value;
            if(u === 'admin' && p === '123') {
                document.getElementById('login-screen').style.display = 'none';
                document.getElementById('app').style.display = 'flex';
                render('ped');
            } else { alert("Acesso incorreto."); }
        }
    </script>
</head>
<body>

    <div id="login-screen" class="overlay">
        <div class="login-box">
            <img src="LogoBB.png" alt="BB Forros" onerror="this.src='https://via.placeholder.com/220x80?text=BB+FORROS'">
            <h2>BB GESTÃƒO</h2>
            <input type="text" id="user" placeholder="admin" style="margin-bottom: 10px;">
            <input type="password" id="pass" placeholder="***" style="margin-bottom: 20px;">
            <button onclick="fazerLogin()" class="btn-entrar">Acessar Sistema</button>
        </div>
    </div>

    <div id="app">
        <header class="top-bar">
            <div style="display:flex; align-items:center; gap:15px;">
                <img src="LogoBB.png" height="40">
                <b>BB COMÃ‰RCIO DE FORROS E DIVISORIAS LTDA.</b>
            </div>
            <span>Painel: <b>Administrador</b></span>
        </header>

        <div class="main-layout">
            <aside class="sidebar">
                <nav class="menu-links">
                    <button onclick="render('fin')" id="btn-fin">ðŸ“Š FINANCEIRO</button>
                    <button onclick="render('cli')" id="btn-cli">ðŸ‘¥ CLIENTES</button>
                    <button onclick="render('ped')" id="btn-ped" class="active">ðŸ›’ VENDAS / PEDIDOS</button>
                </aside>
                <button onclick="location.reload()" style="background:#000; color:white; padding:20px; border:none; cursor:pointer;">SAIR</button>
            </div>
            <main class="content-area" id="view-container"></
